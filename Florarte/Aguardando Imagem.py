from PIL import Image
import imagehash  
import os

def comparar_hashes(hash1, hash2):
    return str(hash1) == str(hash2)

def encontrar_imagem_igual(caminho_pasta, nomes_imagens, hash_exemplo):
    imagens_localizadas = []  
    imagens_aguardando_imagem = []  
    imagens_nao_encontradas = []  

    for nome_imagem in nomes_imagens:
        caminho_arquivo = os.path.join(caminho_pasta, f'{nome_imagem}.jpg')

        if os.path.isfile(caminho_arquivo):
            with Image.open(caminho_arquivo) as imagem:
                hash_imagem = imagehash.average_hash(imagem)
                print(f'Hash da imagem {nome_imagem}: {hash_imagem}')

            if comparar_hashes(hash_exemplo, hash_imagem):
                imagens_aguardando_imagem.append(nome_imagem)
                print(f'Imagem aguardando: {nome_imagem}')
            else:
                imagens_localizadas.append(nome_imagem)
                print(f'Imagem localizada: {nome_imagem}')
        else:
            imagens_nao_encontradas.append(nome_imagem)
            print(f'Imagem não encontrada: {nome_imagem}')

    return imagens_localizadas, imagens_aguardando_imagem, imagens_nao_encontradas

caminho_pasta = r'\\fas01wap\EntregaFA-DA\\'  # Caminho para a pasta das imagens

# Lista de códigos de imagens que você quer procurar

#CODIGOS ATUALIZADOS 26/02/2025
nomes_imagens = [
'69440',
'88670001',
'88670002',
'88671001',
'88672001',
'88673001',
'88674001',
'95787001',
'95788001',
'95789001',
'95790001',
'95791001',
'95792001',
'95793001',
'95799001',
'95803001',
'95804001',
'95805001',
'95806001',
'95807001',
'95808001',
'95809001',
'95810001',
'95811001',
'95812001',
'95813001',
'95814001',
'95854001',
'95855001',
'95903001',
'95907001',
'96067001',
'96068001',
'96070001',
'96071001',
'96072001',
'96075001',
'96076001',
'96077001',
'96078001',
'96079001',
'96080001',
'96081001',
'96082001',
'96083001',
'96084001',
'96085001',
'96086001',
'96087001',
'96098001',
'96108001',
'96113001',
'96116001',
'96117001',
'96118001',
'96119001',
'96120001',
'96121001',
'96122001',
'96135001',
'96136001',
'96150001',
'96156001',
'96156002',
'96156003',
'96167001',
'96168001',
'96169001',
'96171001',
'96172001',
'96177001',
'96177002',
'96151001',
'82621001',
'82627001',
'82641001',
'87647001',
'87685001',
'90450001',
'87688001',
'88091001',
'88092001',
'88093001',
'88097001',
'88100001',
'88101001',
'90435001',
'95857001',
'95861001',
'95864001',
'95867001',
'95868001',
'95869001',
'95870001',
'95900001',
'95929001',
'95934001',
'96020001',
'96022001',
'96133001',
'96134001',
'96176001',
'95871001',
'96160001',
'96161001',
'96162001',
'96173001',
'96174001',
'96175001',
'87659001',
'88185001',
'87848002',
'88757001',
'88769001',
'89899001',
'89902001',
'95668001',
'95670001',
'95671001',
'95673001',
'95675001',
'95669001',
'95856001',
'95858001',
'95859001',
'95862001',
'95866001',
'95873001',
'95879001',
'95880001',
'95881001',
'95882001',
'95883001',
'95886001',
'95889001',
'95894001',
'95895001',
'95898001',
'95901001',
'95904001',
'95915001',
'95916001',
'95917001',
'95918001',
'95919001',
'95922001',
'95923001',
'95924001',
'95925001',
'95943001',
'95944001',
'95860001',
'95984001',
'95988001',
'95990001',
'95994001',
'95995001',
'95996001',
'95997001',
'95998001',
'95999001',
'96000001',
'96001001',
'96008001',
'96009001',
'96011001',
'96012001',
'96015001',
'96016001',
'96019001',
'96021001',
'96023001',
'96027001',
'96028001',
'96029001',
'96033001',
'96034001',
'96035001',
'96036001',
'96037001',
'96038001',
'96039001',
'96066001',
'96123001',
'96126001',
'96127001',
'96128001',
'96138001',
'96139001',
'96140001',
'96141001',
'95971001',
'95997002',
'95774001',
'95777001',
'95779001',
'95780001',
'95781001',
'95782001',
'95872001',
'95896001',
'95897001',
'96144001',
'96146001',
'96147001',
'95660001',
'95667001',
'95850001',
'95899001',
'90643001',
'95940001',
'95942001',
'91382001',
'95884001',
'95885001',
'95887001',
'95888001',
'95890001',
'95912001',
'95974001',
'95974002',
'96002001',
'96003001',
'96007001',
'96010001',
'96013001',
'96014001',
'96024001',
'96026001',
'96041001',
'96042001',
'96043001',
'96044001',
'96045001',
'96046001',
'96047001',
'96048001',
'96049001',
'96051001',
'96052001',
'96055001',
'96057001',
'96060001',
'96062001',
'83975001',
'83976001',
'83977001',
'84246001',
'84289001',
'84290001',
'88005001',
'88007001',
'88008001',
'88009001',
'88013001',
'88018001',
'88019001',
'88023001',
'88114001',
'88117001',
'88121001',
'88123001',
'88124001',
'88129001',
'88132001',
'88133001',
'88137001',
'88141001',
'88145001',
'88148001',
'88154001',
'88160001',
'88173001',
'88180001',
'88183001',
'88187001',
'88191001',
'89806001',
'95874001',
'95875001',
'95876001',
'95878001',
'95908001',
'95909001',
'95910001',
'95911001',
'95913001',
'95914001',
'95920001',
'95921001',
'95926001',
'95989001',
'95991001',
'96004001',
'96005001',
'96006001',
'96017001',
'96018001',
'96030001',
'96050001',
'96050002',
'96054001',
'96056001',
'96058001',
'96058002',
'96063001',
'95863001',
'95865001',
'96163001',
'96164001',
'96165001',
'87991001',
'87992001',
'87997001',
'87999001',
'88002001',
'95783001',
'95784001',
'95785001',
'95786001',
'96059001',
'96061001',
'96142001',
'96143001',
'96179001',
'87988001',
'96190001',
'96030002',
'96030003',
'94147001',
'94148001',
'94149001',
'95461001',
'95462001',
'96030004',
'96137001',
'96064001',
'96065001',
'92676001',
'93206001',
'81946012',
'81960004',
'90265001',
'94517001',
'89408004',
'91188001',
'91192001',
'91198001',
'91212001',
'91214001',
'91230001',
'91231001',
'91237001',
'91240001',
'91253001',
'91253002',
'89410002',
'89981001',
'90030001',
'95490001',
'88617001',
'90060002',
'91340002',
'91345002',
'91351002',
'91352002',
'91354002',
'91356002',
'95497001',
'95498001',
'95499001',
'95500001',
'95503001',
'95517001',
'93614001',
'93643001',
'93646001',
'93647001',
'93648001',
'91841001',
'92577001',
'92597001',
'92617001',
'92619001',
'92632001',
'92635001',
'92636001',
'92642001',
'92707001',
'92714001',
'92730001',
'92733001',
'91392002',
'93722001',
'93734001',
'93744001',
'93787001',
'92899001',
'93788001',
'93790001',
'93794001',
'93806001',
'93807001',
'93817001',
'93819001',
'93834001',
'93841001',
'91401002',
'91590001',
'91403002',
'91407002',
'91605001',
'91666001',
'91672001',
'91694001',
'91697001',
'91702001',
'91581001',
'92817002',
'92975001',
'92825002',
'92928001',
'91593001',
'91600001',
'92956002',
'91749001',
'93984001',
'93985001',
'93986001',
'93987001',
'93989001',
'92982001',
'93489001',
'93511001',
'93572001',
'92871001',
'92871002',
'92871003',
'91752001',
'90266001',
'90329001',
'91002001',
'91005001',
'91009001',
'94143001',
'94575001',
'95465001',
'91760001',
'92929001',
'92955002',
'93305001',
'95496001',
'57945001',
'57945002',
'57945003',
'57946001',
'57946002',
'57946003',
'90653001',
'57947001',
'85712001',
'88565002',
'88566002',
'88568001',
'88572001',
'88610001',
'57953001',
'90461001',
'90472001',
'90472002',
'90472003',
'90494002',
'57954001',
'58405001',
'90978001',
'91923001',
'91176001',
'91722001',
'91730001',
'91734001',
'91736001',
'91946001',
'80757004',
'88589001',
'89599002',
'90501001',
'91167001',
'92444001',
'92465001',
'92743001',
'92093001',
'92098001',
'72553001',
'92098002',
'92761001',
'93527001',
'92893001',
'93136002',
'93189002',
'93555001',
'93755001',
'93760001',
'93766001',
'93774001',
'93778001',
'93781001',
'92210001',
'93635001',
'93791001',
'93729001',
'93747001',
'92908001',
'93912001',
'93784001',
'93786001',
'93795001',
'93964001',
'93874001',
'93897002',
'93944001',
'93950001',
'93957001',
'94050001',
'94055001',
'94056001',
'94108001',
'94113001',
'94160001',
'94162001',
'94163001',
'94320001',
'94165001',
'95559001',
'94166001',
'94168001',
'94170001',
'94172001',
'94658002',
'95560001',
'95589001',
'95954001',
'95955001',
'95956001',
'95957001',
'95958001',
'91907002',
'91911001',
'91913001',
'95959001',
'60575003',
'60572003',
'93393001',
'87042001',
'87043001',
'87046001',
'87047001',
'87048001',
'87049001',
'87050001',
'87051001',
'87052001',
'92091001',
'89298003',
'62424003',
'89300003',
'94926001',
'74137003',
'89321002',
'89329001',
'87041001',
'89253001',
'89340001',
'89351001',
'89355001',
'89358001',
'89363001',
'89300002',
'89422001',
'89300004',
'89300005',
'89429001',
'89337001',
'89435001',
'89438001',
'89990001',
'89339001',
'89374001',
'93361001',
'89426001',
'91365001',
'94889001',
'89433001',
'91389001',
'61078001',
'64104001',
'94412001',
'91394001',
'92191001',
'76992001',
'91490005',
'91496001',
'91512002',
'94835002',
'91525001',
'91513001',
'91531002',
'91565001',
'64145001',
'91978001',
'91857001',
'92281001',
'92362001',
'92394001',
'64190001',
'93750001',
'91668001',
'91675001',
'91677001',
'91678001',
'91700001',
'91704001',
'91706001',
'91714001',
'91727001',
'91567001',
'92095001',
'92117001',
'91769001',
'92219001',
'92222001',
'91781001',
'91782001',
'91790001',
'91626001',
'91797001',
'92422002',
'91804001',
'91732001',
'92644001',
'92646001',
'92651001',
'92658001',
'92660001',
'92664001',
'92673001',
'92687001',
'92696001',
'92701001',
'91806001',
'92909001',
'92918001',
'92923001',
'92927001',
'92930001',
'93003001',
'93005001',
'93008001',
'93010001',
'93014001',
'93015001',
'93017001',
'93018001',
'93019001',
'93020001',
'93021001',
'91809001',
'91795001',
'92855001',
'93542001',
'91862001',
'93983001',
'93990001',
'93991001',
'93992001',
'93993001',
'93994001',
'93995001',
'93996001',
'93997001',
'93998001',
'93999001',
'93749001',
'91921003',
'91964001',
'92510001',
'61097002',
'92640001',
'94000001',
'94001001',
'94008001',
'94002001',
'94010001',
'94003001',
'94013001',
'94020001',
'94034001',
'94035001',
'94077001',
'94157001',
'94164001',
'94169001',
'94004001',
'94005001',
'94235001',
'94255001',
'94256001',
'94263001',
'94273001',
'94274001',
'94275001',
'94276001',
'94278001',
'94279001',
'94280001',
'94281001',
'94006001',
'94284001',
'94285001',
'94286001',
'94288001',
'94289001',
'94007001',
'94009001',
'91984001',
'92408001',
'92410001',
'94011001',
'94948001',
'95598001',
'95601001',
'68194001',
'68633001',
'68715001',
'68816001',
'68828001',
'68829001',
'68851001',
'68872001',
'68902001',
'68907001',
'45278001',
'94175001',
'77879004',
'94211001',
'57876008',
'94282001',
'94414001',
'94945001',
'46990005',
'57897006',
'76982002',
'89428001',
'77602005',
'95495001',
'89587001',
'77602006',
'88057005',
'89592004',
'89606001',
'89606002',
'89587002',
'89587003',
'89587004',
'89608003',
'85221008',
'95494001',
'89611001',
'89622004',
'89623001',
'89625001',
'89635002',
'89637002',
'90191002',
'90271001',
'90271002',
'90274003',
'90274005',
'91416001',
'91416002',
'91432002',
'93043002',
'93043003',
'93051012',
'93093003',
'90232001',
'90232002',
'90235001',
'90236001',
'90244001',
'90262001',
'93178001',
'93237006',
'93259012',
'90274004',
'90421009',
'90421013',
'93375012',
'90281001',
'90284001',
'90284002',
'90296001',
'90536001',
'95654001',
'95654002',
'95654003',
'95654004',
'93568003',
'95654005',
'95945001',
'93051008',
'95945002',
'93575004',
'95945003',
'93575005',
'93237010',
'93237012',
'93259002',
'93259004',
'93259005',
'93259006',
'93259009',
'93259011',
'95945004',
'93259013',
'95945005',
'95969001',
'93582004',
'93603003',
'91462001',
'93582005',
'57876005',
'68925002',
'76569002',
'77602007',
'91432001',
'91449001',
'91451001',
'91452001',
'93595001',
'93595002',
'93595004',
'93595005',
'93595006',
'93595007',
'93850010',
'94912001',
'94912002',
'94912003',
'91459001',
'91460001',
'95649001',
'57783007',
'95236001',
'89592002',
'89592003',
'95604001',
'89592005',
'89592006',
'89605001',
'89608004',
'89622002',
'89622003',
'89622005',
'94912004',
'95851002',
'94913001',
'94913002',
'94913003',
'94913004',
'94913005',
'94913006',
'95235001',
'95081002',
'95280001',
'95292001',
'89622006',
'95210001',
'95648002',
'95851001',
'95851003',
'95851004',
'95210002',
'91641001',
'95851005',
'73416001',
'73416002',
'95852001',
'77700001',
'77954001',
'79106001',
'79198001',
'95932001',
'79222001',
'79282001',
'79322001',
'91153001',
'91157001',
'91158001',
'92413001',
'95933001',
'95936001',
'95947001',
'95948001',
'93198001',
'93973001',
'94062001',
'94064001',
'94112001',
'94605001',
'94644001',
'94645001',
'94646001',
'94652001',
'95949001',
'95391002',
'95392002',
'95951001',
'95457001',
'95664001',
'95664002',
'95839001',
'95840001',
'95841001',
'95843001',
'95844001',
'95845001',
'95846001',
'85236001',
'89864001',
'89868001',
'89869001',
'77522001',
'79215001',
'90535001',
'90542001',
'93378001',
'93433001',
'95714002',
'93495001',
'93968001',
'95391001',
'95439001',
'91863001',
'91868001',
'91917001',
'92351001',
'90546001',
'91870001',
'91873001',
'91883001',
'91884001',
'93768001',
'90548001',
'93888001',
'92385001',
'93894001',
'93894002',
'93898001',
'91885001',
'75398001',
'93432001',
'93100001',
'93119001',
'93130001',
'93197001',
'93234001',
'93253001',
'93336001',
'91886001',
'93440001',
'91887001',
'93450001',
'93452001',
'93454001',
'93461001',
'93476001',
'93481001',
'93487001',
'93493001',
'95684001',
'95686001',
'93050005',
'93060001',
'93060002',
'93060003',
'68730006',
'93869001',
'93890001',
'95477001',
'92299001',
'93444001',
'55251001',
'55253001',
'55255001',
'45784004',
'55365001',
'68564',
'68565',
'68566',
'68567',
'68568',
'68569',
'68570',
'68571',
'68572',
'68573',
'68574',
'68575',
'68576',
'68580',
'68581',
'83670005',
'83682003',
'83682006',
'83695001',
'83695003',
'83695004',
'83695006',
'83696002',
'83696003',
'83696005',
'68583',
'68584',
'68585',
'83068002',
'84082001',
'84082003',
'68586',
'68587',
'68588',
'68589',
'68590',
'49972005',
'49974004',
'49974005',
'56009006',
'56009007',
'88210002',
'49972004',
'84139002',
'84143001',
'87701001',
'87701002',
'87701003',
'54031001',
'54031002',
'52191004',
'87331001',
'87331002',
'87337001',
'87343001',
'52319008',
'52319009',
'82997001',
'82997002',
'82997003',
'82997004',
'82997005',
'82997006',
'82997007',
'55496001',
'86105001',
'55497001',
'55498001',
'02685010',
'55499001',
'02685012',
'86108001',
'86108002',
'86108003',
'86108004',
'86108005',
'86111001',
'86111002',
'86111003',
'86112001',
'86112002',
'86112003',
'86112004',
'86112005',
'86113001',
'86113002',
'86113003',
'86113004',
'86113005',
'96017002',
'96017003',
'96020002',
'55500001',
'55501001',
'83763001',
'83763002',
'85533001',
'56008012',
'88285002',
'02685011',
'96148001',
   ]

with Image.open(r'G:\Meu Drive\# DAYVSON COSTA\AREA DE TRABALHO - PC MARKETING\43878001.jpg') as imagem_exemplo:
    hash_exemplo = imagehash.average_hash(imagem_exemplo)
    print(f'Hash da imagem exemplo: {hash_exemplo}')

imagens_localizadas, imagens_aguardando_imagem, imagens_nao_encontradas = encontrar_imagem_igual(caminho_pasta, nomes_imagens, hash_exemplo)

total_imagens = len(nomes_imagens)
total_localizadas = len(imagens_localizadas)
total_aguardando_imagem = len(imagens_aguardando_imagem)
total_nao_encontradas = len(imagens_nao_encontradas)

resultado = f'Códigos Localizados: {", ".join(imagens_localizadas)}\n'
resultado += f'Códigos Não Localizados: {", ".join(imagens_nao_encontradas)}\n'
resultado += f'Códigos Aguardando Imagem: {", ".join(imagens_aguardando_imagem)}\n'

resultado += f'Quant. de Códigos Procurados: {total_imagens}\n'
resultado += f'Quant. de Códigos Localizados: {total_localizadas}\n'
resultado += f'Quant. de Códigos Não Localizados: {total_nao_encontradas}\n'
resultado += f'Quant. de Códigos Aguardando Imagem: {total_aguardando_imagem}\n'

print(resultado)

# Abra um arquivo txt no modo de escrita ('w')
with open(r'C:\Users\drdc\Downloads\codigos_aguardando_imagem.txt', 'w') as arquivo:
    # Escreva o conteúdo da variável 'resultado' no arquivo
    arquivo.write(resultado)

print("Resultado exportado!")